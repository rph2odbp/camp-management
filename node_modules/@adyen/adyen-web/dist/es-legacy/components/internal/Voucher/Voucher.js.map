{"version":3,"file":"Voucher.js","sources":["../../../../../src/components/internal/Voucher/Voucher.tsx"],"sourcesContent":["import { h } from 'preact';\nimport classNames from 'classnames';\nimport Button from '../Button';\nimport { copyToClipboard } from '../../../utils/clipboard';\n\nimport { useCoreContext } from '../../../core/Context/CoreProvider';\nimport './Voucher.scss';\nimport { VoucherProps } from './types';\nimport useImage from '../../../core/Context/useImage';\nimport { PREFIX } from '../Icon/constants';\nimport DetailsTable from '../DetailsTable';\n\nexport default function Voucher({ voucherDetails = [], className = '', ...props }: VoucherProps) {\n    const { i18n } = useCoreContext();\n    const getImage = useImage();\n\n    props.onActionHandled?.({ componentType: props.paymentMethodType, actionDescription: 'voucher-presented' });\n\n    return (\n        <div className={classNames('adyen-checkout__voucher-result', `adyen-checkout__voucher-result--${props.paymentMethodType}`, className)}>\n            <div className=\"adyen-checkout__voucher-result__top\">\n                <div className=\"adyen-checkout__voucher-result__image\">\n                    {!!props.imageUrl && (\n                        <span className=\"adyen-checkout__voucher-result__image__wrapper\">\n                            <img alt={props.paymentMethodType} className=\"adyen-checkout__voucher-result__image__brand\" src={props.imageUrl} />\n                        </span>\n                    )}\n\n                    {!!props.issuerImageUrl && (\n                        <span className=\"adyen-checkout__voucher-result__image__wrapper\">\n                            <img alt={props.paymentMethodType} className=\"adyen-checkout__voucher-result__image__issuer\" src={props.issuerImageUrl} />\n                        </span>\n                    )}\n                </div>\n\n                <div className=\"adyen-checkout__voucher-result__introduction\">\n                    {props.introduction}{' '}\n                    {props.instructionsUrl && (\n                        <a\n                            className=\"adyen-checkout-link adyen-checkout-link--voucher-result-instructions\"\n                            href={props.instructionsUrl}\n                            target=\"_blank\"\n                            rel=\"noopener noreferrer\"\n                        >\n                            {i18n.get('voucher.readInstructions')} â€º\n                        </a>\n                    )}\n                </div>\n\n                {props.amount && (\n                    <div className=\"adyen-checkout__voucher-result__amount\">\n                        {props.amount}\n\n                        {props.surcharge && (\n                            <span className=\"adyen-checkout__voucher-result__surcharge\">\n                                ({i18n.get('voucher.surcharge').replace('%@', props.surcharge)})\n                            </span>\n                        )}\n                    </div>\n                )}\n            </div>\n\n            {props.reference && (\n                <div className=\"adyen-checkout__voucher-result__separator\">\n                    <div className=\"adyen-checkout__voucher-result__separator__inner\" />\n                    <div className=\"adyen-checkout__voucher-result__code__label\">\n                        <span className=\"adyen-checkout__voucher-result__code__label__text\">{i18n.get('voucher.paymentReferenceLabel')}</span>\n                    </div>\n                </div>\n            )}\n\n            <div className=\"adyen-checkout__voucher-result__bottom\">\n                {props.reference && (\n                    <div className=\"adyen-checkout__voucher-result__code\">\n                        {props.barcode && (\n                            <img\n                                alt={i18n.get('voucher.paymentReferenceLabel')}\n                                className=\"adyen-checkout__voucher-result__code__barcode\"\n                                src={props.barcode}\n                            />\n                        )}\n                        <span>{props.reference}</span>\n                    </div>\n                )}\n\n                {(!!props.downloadUrl || !!props.copyBtn) && (\n                    <ul className=\"adyen-checkout__voucher-result__actions\">\n                        {!!props.copyBtn && (\n                            <li className=\"adyen-checkout__voucher-result__actions__item\">\n                                <Button\n                                    inline\n                                    variant=\"action\"\n                                    onClick={(e, { complete }) => {\n                                        void copyToClipboard(props.reference);\n                                        complete();\n                                    }}\n                                    icon={getImage({ imageFolder: 'components/' })(`${PREFIX}copy`)}\n                                    label={i18n.get('button.copy')}\n                                />\n                            </li>\n                        )}\n\n                        {!!props.downloadUrl && (\n                            <li className=\"adyen-checkout__voucher-result__actions__item\">\n                                <Button\n                                    inline\n                                    variant=\"action\"\n                                    href={props.downloadUrl}\n                                    icon={getImage({ imageFolder: 'components/' })(`${PREFIX}download`)}\n                                    label={props.downloadButtonText || i18n.get('button.download')}\n                                    target=\"_blank\"\n                                    rel=\"noopener noreferrer\"\n                                />\n                            </li>\n                        )}\n                    </ul>\n                )}\n\n                <DetailsTable tableFields={voucherDetails} />\n            </div>\n        </div>\n    );\n}\n"],"names":["Voucher","_param","props","voucherDetails","className","i18n","useCoreContext","getImage","useImage","onActionHandled","componentType","paymentMethodType","actionDescription","h","div","classNames","imageUrl","span","img","alt","src","issuerImageUrl","introduction","instructionsUrl","a","href","target","rel","get","amount","surcharge","replace","reference","barcode","downloadUrl","copyBtn","ul","li","Button","inline","variant","onClick","e","complete","copyToClipboard","icon","imageFolder","PREFIX","label","downloadButtonText","DetailsTable","tableFields"],"mappings":"4xBAYe,SAASA,EAAQC,OAI5BC,GAJ4BC,eAAEA,EAAiB,GAAEC,UAAEA,EAAY,IAAnCH,EAA0CC,EAAAA,EAA1CD,EAAA,CAAEE,iBAAqBC,cACnD,MAAMC,KAAEA,GAASC,IACXC,EAAWC,IAIjB,OAFqB,QAArBN,EAAAA,EAAMO,uBAANP,IAAAA,GAAAA,OAAAA,EAAwB,CAAEQ,cAAeR,EAAMS,kBAAmBC,kBAAmB,sBAGjFC,EAACC,MAAAA,CAAIV,UAAWW,EAAW,iCAAkC,mCAAmCb,EAAMS,oBAAqBP,IACvHS,EAACC,MAAAA,CAAIV,UAAU,uCACXS,EAACC,MAAAA,CAAIV,UAAU,2CACRF,EAAMc,UACLH,EAACI,OAAAA,CAAKb,UAAU,kDACZS,EAACK,MAAAA,CAAIC,IAAKjB,EAAMS,kBAAmBP,UAAU,+CAA+CgB,IAAKlB,EAAMc,cAI5Gd,EAAMmB,gBACLR,EAACI,OAAAA,CAAKb,UAAU,kDACZS,EAACK,MAAAA,CAAIC,IAAKjB,EAAMS,kBAAmBP,UAAU,gDAAgDgB,IAAKlB,EAAMmB,mBAKpHR,EAACC,MAAAA,CAAIV,UAAU,gDACVF,EAAMoB,aAAc,IACpBpB,EAAMqB,iBACHV,EAACW,IAAAA,CACGpB,UAAU,uEACVqB,KAAMvB,EAAMqB,gBACZG,OAAO,SACPC,IAAI,uBAEHtB,EAAKuB,IAAI,4BAA4B,OAKjD1B,EAAM2B,QACHhB,EAACC,MAAAA,CAAIV,UAAU,0CACVF,EAAM2B,OAEN3B,EAAM4B,WACHjB,EAACI,OAAAA,CAAKb,UAAU,6CAA4C,IACtDC,EAAKuB,IAAI,qBAAqBG,QAAQ,KAAM7B,EAAM4B,WAAW,OAOlF5B,EAAM8B,WACHnB,EAACC,MAAAA,CAAIV,UAAU,6CACXS,EAACC,MAAAA,CAAIV,UAAU,qDACfS,EAACC,MAAAA,CAAIV,UAAU,+CACXS,EAACI,OAAAA,CAAKb,UAAU,qDAAqDC,EAAKuB,IAAI,oCAK1Ff,EAACC,MAAAA,CAAIV,UAAU,0CACVF,EAAM8B,WACHnB,EAACC,MAAAA,CAAIV,UAAU,wCACVF,EAAM+B,SACHpB,EAACK,MAAAA,CACGC,IAAKd,EAAKuB,IAAI,iCACdxB,UAAU,gDACVgB,IAAKlB,EAAM+B,UAGnBpB,EAACI,YAAMf,EAAM8B,eAIjB9B,EAAMgC,eAAiBhC,EAAMiC,UAC7BtB,EAACuB,KAAAA,CAAGhC,UAAU,6CACPF,EAAMiC,SACLtB,EAACwB,KAAAA,CAAGjC,UAAU,iDACVS,EAACyB,EAAAA,CACGC,QAAAA,EACAC,QAAQ,SACRC,QAAS,CAACC,GAAKC,eACNC,EAAgB1C,EAAM8B,WAC3BW,KAEJE,KAAMtC,EAAS,CAAEuC,YAAa,eAAxBvC,CAAyC,GAAGwC,SAClDC,MAAO3C,EAAKuB,IAAI,oBAKzB1B,EAAMgC,aACLrB,EAACwB,KAAAA,CAAGjC,UAAU,iDACVS,EAACyB,EAAAA,CACGC,QAAAA,EACAC,QAAQ,SACRf,KAAMvB,EAAMgC,YACZW,KAAMtC,EAAS,CAAEuC,YAAa,eAAxBvC,CAAyC,GAAGwC,aAClDC,MAAO9C,EAAM+C,oBAAsB5C,EAAKuB,IAAI,mBAC5CF,OAAO,SACPC,IAAI,0BAOxBd,EAACqC,EAAAA,CAAaC,YAAahD,KAI3C"}
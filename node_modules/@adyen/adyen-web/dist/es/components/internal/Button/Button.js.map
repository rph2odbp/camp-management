{"version":3,"file":"Button.js","sources":["../../../../../src/components/internal/Button/Button.tsx"],"sourcesContent":["import { Component, h } from 'preact';\nimport classNames from 'classnames';\nimport Spinner from '../Spinner';\nimport { useCoreContext } from '../../../core/Context/CoreProvider';\nimport './Button.scss';\nimport { ButtonProps, ButtonState } from './types';\n\nclass Button extends Component<ButtonProps, ButtonState> {\n    public static defaultProps = {\n        status: 'default',\n        variant: 'primary',\n        disabled: false,\n        label: '',\n        inline: false,\n        target: '_self',\n        onClick: () => {},\n        onMouseEnter: () => {},\n        onMouseLeave: () => {},\n        onFocus: () => {},\n        onBlur: () => {},\n        onKeyPress: () => {}\n    };\n\n    public onClick = e => {\n        e.preventDefault();\n\n        if (!this.props.disabled) {\n            this.props.onClick(e, { complete: this.complete });\n        }\n    };\n\n    public complete = (delay = 1000) => {\n        this.setState({ completed: true });\n        setTimeout(() => {\n            this.setState({ completed: false });\n        }, delay);\n    };\n\n    public onKeyDown = (event: KeyboardEvent) => {\n        this.props.onKeyDown?.(event);\n    };\n\n    render() {\n        const {\n            classNameModifiers = [],\n            disabled,\n            href,\n            icon,\n            inline,\n            label,\n            ariaLabel,\n            ariaDescribedBy,\n            status,\n            variant,\n            buttonRef,\n            onMouseEnter,\n            onMouseLeave,\n            onFocus,\n            onBlur,\n            onKeyPress\n        }: ButtonProps = this.props;\n        const { completed } = this.state;\n        const { i18n } = useCoreContext();\n\n        const buttonIcon = icon ? <img className=\"adyen-checkout__button__icon\" src={icon} alt=\"\" aria-hidden=\"true\" /> : '';\n\n        const modifiers = [\n            ...classNameModifiers,\n            ...(variant !== 'primary' ? [variant] : []),\n            ...(inline ? ['inline'] : []),\n            ...(completed ? ['completed'] : []),\n            ...(status === 'loading' || status === 'redirect' ? ['loading'] : [])\n        ];\n\n        const buttonClasses = classNames(['adyen-checkout__button', ...modifiers.map(m => `adyen-checkout__button--${m}`)]);\n\n        const buttonStates = {\n            loading: (\n                <span className=\"adyen-checkout__button__content\">\n                    <Spinner size=\"medium\" inline />\n                    <span className={'adyen-checkout__button__text--sr-only'}>{i18n.get('loading')}</span>\n                </span>\n            ),\n            redirect: (\n                <span className=\"adyen-checkout__button__content\">\n                    <Spinner size=\"medium\" inline />\n                    {i18n.get('payButton.redirecting')}\n                </span>\n            ),\n            default: (\n                <span className=\"adyen-checkout__button__content\">\n                    {buttonIcon}\n                    <span className=\"adyen-checkout__button__text\">{label}</span>\n                </span>\n            )\n        };\n\n        const buttonText = buttonStates[status] || buttonStates.default;\n\n        if (href) {\n            return (\n                <a className={buttonClasses} href={href} disabled={disabled} target={this.props.target} rel={this.props.rel}>\n                    {buttonText}\n                </a>\n            );\n        }\n\n        return (\n            <button\n                ref={buttonRef}\n                className={buttonClasses}\n                type=\"button\"\n                disabled={disabled}\n                onClick={this.onClick}\n                onKeyDown={this.onKeyDown}\n                aria-label={ariaLabel}\n                aria-describedby={ariaDescribedBy}\n                onMouseEnter={onMouseEnter}\n                onMouseLeave={onMouseLeave}\n                onFocus={onFocus}\n                onBlur={onBlur}\n                onKeyPress={onKeyPress}\n            >\n                {buttonText}\n                {status !== 'loading' && status !== 'redirect' && this.props.children}\n            </button>\n        );\n    }\n}\n\nexport default Button;\n"],"names":["Button","Component","render","classNameModifiers","disabled","href","icon","inline","label","ariaLabel","ariaDescribedBy","status","variant","buttonRef","onMouseEnter","onMouseLeave","onFocus","onBlur","onKeyPress","this","props","completed","state","i18n","useCoreContext","buttonIcon","h","img","className","src","alt","aria-hidden","modifiers","buttonClasses","classNames","map","m","buttonStates","loading","span","Spinner","size","get","redirect","default","buttonText","a","target","rel","button","ref","type","onClick","onKeyDown","aria-label","aria-describedby","children","super","args","_define_property","e","preventDefault","complete","delay","setState","setTimeout","event","defaultProps"],"mappings":"qWAOA,MAAMA,UAAeC,EAmCjBC,MAAAA,GACI,MAAMC,mBACFA,EAAqB,GAAEC,SACvBA,EAAQC,KACRA,EAAIC,KACJA,EAAIC,OACJA,EAAMC,MACNA,EAAKC,UACLA,EAASC,gBACTA,EAAeC,OACfA,EAAMC,QACNA,EAAOC,UACPA,EAASC,aACTA,EAAYC,aACZA,EAAYC,QACZA,EAAOC,OACPA,EAAMC,WACNA,GACaC,KAAKC,OAChBC,UAAEA,GAAcF,KAAKG,OACrBC,KAAEA,GAASC,IAEXC,EAAanB,EAAOoB,EAACC,MAAAA,CAAIC,UAAU,+BAA+BC,IAAKvB,EAAMwB,IAAI,GAAGC,cAAY,SAAY,GAE5GC,EAAY,IACX7B,KACa,YAAZS,EAAwB,CAACA,GAAW,MACpCL,EAAS,CAAC,UAAY,MACtBc,EAAY,CAAC,aAAe,MACjB,YAAXV,GAAmC,aAAXA,EAAwB,CAAC,WAAa,IAGhEsB,EAAgBC,EAAW,CAAC,4BAA6BF,EAAUG,IAAIC,GAAK,2BAA2BA,OAEvGC,EAAe,CACjBC,QACIZ,EAACa,OAAAA,CAAKX,UAAU,mCACZF,EAACc,EAAAA,CAAQC,KAAK,SAASlC,QAAAA,IACvBmB,EAACa,OAAAA,CAAKX,UAAW,yCAA0CL,EAAKmB,IAAI,aAG5EC,SACIjB,EAACa,OAAAA,CAAKX,UAAU,mCACZF,EAACc,EAAAA,CAAQC,KAAK,SAASlC,QAAAA,IACtBgB,EAAKmB,IAAI,0BAGlBE,QACIlB,EAACa,OAAAA,CAAKX,UAAU,mCACXH,EACDC,EAACa,OAAAA,CAAKX,UAAU,gCAAgCpB,KAKtDqC,EAAaR,EAAa1B,IAAW0B,EAAaO,QAExD,OAAIvC,EAEIqB,EAACoB,IAAAA,CAAElB,UAAWK,EAAe5B,KAAMA,EAAMD,SAAUA,EAAU2C,OAAQ5B,KAAKC,MAAM2B,OAAQC,IAAK7B,KAAKC,MAAM4B,KACnGH,GAMTnB,EAACuB,SAAAA,CACGC,IAAKrC,EACLe,UAAWK,EACXkB,KAAK,SACL/C,SAAUA,EACVgD,QAASjC,KAAKiC,QACdC,UAAWlC,KAAKkC,UAChBC,aAAY7C,EACZ8C,mBAAkB7C,EAClBI,aAAcA,EACdC,aAAcA,EACdC,QAASA,EACTC,OAAQA,EACRC,WAAYA,GAEX2B,EACW,YAAXlC,GAAmC,aAAXA,GAAyBQ,KAAKC,MAAMoC,SAGzE,mBAxHJC,SAAAC,GAgBIC,EAAAxC,KAAOiC,UAAUQ,IACbA,EAAEC,iBAEG1C,KAAKC,MAAMhB,UACZe,KAAKC,MAAMgC,QAAQQ,EAAG,CAAEE,SAAU3C,KAAK2C,aAI/CH,EAAAxC,KAAO2C,WAAW,CAACC,EAAQ,OACvB5C,KAAK6C,SAAS,CAAE3C,WAAW,IAC3B4C,WAAW,KACP9C,KAAK6C,SAAS,CAAE3C,WAAW,KAC5B0C,KAGPJ,EAAAxC,KAAOkC,YAAaa,IAChB/C,KAAKC,MAAMiC,YAAYa,MA/B3BP,EADE3D,EACYmE,eAAe,CACzBxD,OAAQ,UACRC,QAAS,UACTR,UAAU,EACVI,MAAO,GACPD,QAAQ,EACRwC,OAAQ,QACRK,QAAS,OACTtC,aAAc,OACdC,aAAc,OACdC,QAAS,OACTC,OAAQ,OACRC,WAAY"}